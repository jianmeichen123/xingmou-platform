<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gi.xm.platform.dao.ProjectDAO">
	<resultMap id="BaseResultMap" type="com.gi.xm.platform.pojo.Project">
					<id column="id" property="id" jdbcType="BIGINT" />
								<result column="title" property="title" jdbcType="VARCHAR" />
								<result column="pic" property="pic" jdbcType="VARCHAR" />
								<result column="pic_big" property="picBig" jdbcType="VARCHAR" />
								<result column="picshow" property="picshow" jdbcType="VARCHAR" />
								<result column="weblink" property="weblink" jdbcType="VARCHAR" />
								<result column="ceo_name" property="ceoName" jdbcType="VARCHAR" />
								<result column="company_id" property="companyId" jdbcType="BIGINT" />
								<result column="company_name" property="companyName" jdbcType="VARCHAR" />
								<result column="industry_id" property="industryId" jdbcType="BIGINT" />
								<result column="industry_sub_id" property="industrySubId" jdbcType="BIGINT" />
								<result column="industry_name" property="industryName" jdbcType="VARCHAR" />
								<result column="industry_sub_name" property="industrySubName" jdbcType="VARCHAR" />
								<result column="district_id" property="districtId" jdbcType="BIGINT" />
								<result column="district_name" property="districtName" jdbcType="VARCHAR" />
								<result column="district_sub_id" property="districtSubId" jdbcType="BIGINT" />
								<result column="district_sub_name" property="districtSubName" jdbcType="VARCHAR" />
								<result column="newest_event_id" property="newestEventId" jdbcType="BIGINT" />
								<result column="newest_event_date" property="newestEventDate" jdbcType="VARCHAR" />
								<result column="newest_event_round" property="newestEventRound" jdbcType="VARCHAR" />
								<result column="newest_event_money" property="newestEventMoney" jdbcType="BIGINT" />
								<result column="source_id" property="sourceId" jdbcType="BIGINT" />
								<result column="create_date" property="createDate" jdbcType="VARCHAR" />
								<result column="status" property="status" jdbcType="INTEGER" />
								<result column="business_model" property="businessModel" jdbcType="VARCHAR" />
								<result column="industry_pain_points" property="industryPainPoints" jdbcType="VARCHAR" />
								<result column="team_score" property="teamScore" jdbcType="INTEGER" />
								<result column="operation_score" property="operationScore" jdbcType="INTEGER" />
								<result column="score" property="score" jdbcType="INTEGER" />
								<result column="time_span" property="timeSpan" jdbcType="INTEGER" />
								<result column="invest_info" property="investInfo" jdbcType="VARCHAR" />
								<result column="invest_num" property="investNum" jdbcType="INTEGER" />
								<result column="invest_money" property="investMoney" jdbcType="BIGINT" />
								<result column="load_time" property="loadTime" jdbcType="TIMESTAMP" />
								<result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
						</resultMap>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
		DELETE FROM dm_project
		WHERE id = #{id,jdbcType=BIGINT} 
	</delete>
	
	<insert id="insert" parameterType="com.gi.xm.platform.pojo.Project" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO dm_project (
			title,
			pic,
			pic_big,
			picshow,
			weblink,
			ceo_name,
			company_id,
			company_name,
			industry_id,
			industry_sub_id,
			industry_name,
			industry_sub_name,
			district_id,
			district_name,
			district_sub_id,
			district_sub_name,
			newest_event_id,
			newest_event_date,
			newest_event_round,
			newest_event_money,
			source_id,
			create_date,
			status,
			business_model,
			industry_pain_points,
			team_score,
			operation_score,
			score,
			time_span,
			invest_info,
			invest_num,
			invest_money,
			load_time,
			update_time
		)
		VALUES
		(
			#{title,jdbcType=VARCHAR},
			#{pic,jdbcType=VARCHAR},
			#{picBig,jdbcType=VARCHAR},
			#{picshow,jdbcType=VARCHAR},
			#{weblink,jdbcType=VARCHAR},
			#{ceoName,jdbcType=VARCHAR},
			#{companyId,jdbcType=BIGINT},
			#{companyName,jdbcType=VARCHAR},
			#{industryId,jdbcType=BIGINT},
			#{industrySubId,jdbcType=BIGINT},
			#{industryName,jdbcType=VARCHAR},
			#{industrySubName,jdbcType=VARCHAR},
			#{districtId,jdbcType=BIGINT},
			#{districtName,jdbcType=VARCHAR},
			#{districtSubId,jdbcType=BIGINT},
			#{districtSubName,jdbcType=VARCHAR},
			#{newestEventId,jdbcType=BIGINT},
			#{newestEventDate,jdbcType=VARCHAR},
			#{newestEventRound,jdbcType=VARCHAR},
			#{newestEventMoney,jdbcType=BIGINT},
			#{sourceId,jdbcType=BIGINT},
			#{createDate,jdbcType=VARCHAR},
			#{status,jdbcType=INTEGER},
			#{businessModel,jdbcType=VARCHAR},
			#{industryPainPoints,jdbcType=VARCHAR},
			#{teamScore,jdbcType=INTEGER},
			#{operationScore,jdbcType=INTEGER},
			#{score,jdbcType=INTEGER},
			#{timeSpan,jdbcType=INTEGER},
			#{investInfo,jdbcType=VARCHAR},
			#{investNum,jdbcType=INTEGER},
			#{investMoney,jdbcType=BIGINT},
			#{loadTime,jdbcType=TIMESTAMP},
			 UNIX_TIMESTAMP()
		)
	</insert>

	<update id="updateByPrimaryKey" parameterType="com.gi.xm.platform.pojo.Project">
		UPDATE dm_project
		SET
			<if test="title!=null">title = #{title,jdbcType=VARCHAR},</if>
			<if test="pic!=null">pic = #{pic,jdbcType=VARCHAR},</if>
			<if test="picBig!=null">pic_big = #{picBig,jdbcType=VARCHAR},</if>
			<if test="picshow!=null">picshow = #{picshow,jdbcType=VARCHAR},</if>
			<if test="weblink!=null">weblink = #{weblink,jdbcType=VARCHAR},</if>
			<if test="ceoName!=null">ceo_name = #{ceoName,jdbcType=VARCHAR},</if>
			<if test="companyName!=null">company_name = #{companyName,jdbcType=VARCHAR},</if>
			<if test="industryName!=null">industry_name = #{industryName,jdbcType=VARCHAR},</if>
			<if test="industrySubName!=null">industry_sub_name = #{industrySubName,jdbcType=VARCHAR},</if>
			<if test="districtName!=null">district_name = #{districtName,jdbcType=VARCHAR},</if>
			<if test="districtSubName!=null">district_sub_name = #{districtSubName,jdbcType=VARCHAR},</if>
			<if test="newestEventDate!=null">newest_event_date = #{newestEventDate,jdbcType=VARCHAR},</if>
			<if test="newestEventRound!=null">newest_event_round = #{newestEventRound,jdbcType=VARCHAR},</if>
			<if test="createDate!=null">create_date = #{createDate,jdbcType=VARCHAR},</if>
			<if test="businessModel!=null">business_model = #{businessModel,jdbcType=VARCHAR},</if>
			<if test="industryPainPoints!=null">industry_pain_points = #{industryPainPoints,jdbcType=VARCHAR},</if>
			<if test="investInfo!=null">invest_info = #{investInfo,jdbcType=VARCHAR},</if>
			<if test="companyId!=null">company_id = #{companyId,jdbcType=BIGINT},</if>
			<if test="industryId!=null">industry_id = #{industryId,jdbcType=BIGINT},</if>
			<if test="industrySubId!=null">industry_sub_id = #{industrySubId,jdbcType=BIGINT},</if>
			<if test="districtId!=null">district_id = #{districtId,jdbcType=BIGINT},</if>
			<if test="districtSubId!=null">district_sub_id = #{districtSubId,jdbcType=BIGINT},</if>
			<if test="newestEventId!=null">newest_event_id = #{newestEventId,jdbcType=BIGINT},</if>
			<if test="newestEventMoney!=null">newest_event_money = #{newestEventMoney,jdbcType=BIGINT},</if>
			<if test="sourceId!=null">source_id = #{sourceId,jdbcType=BIGINT},</if>
			<if test="teamScore!=null">team_score = #{teamScore,jdbcType=INTEGER},</if>
			<if test="operationScore!=null">operation_score = #{operationScore,jdbcType=INTEGER},</if>
			<if test="score!=null">score = #{score,jdbcType=INTEGER},</if>
			<if test="timeSpan!=null">time_span = #{timeSpan,jdbcType=INTEGER},</if>
			<if test="investNum!=null">invest_num = #{investNum,jdbcType=INTEGER},</if>
			<if test="investMoney!=null">invest_money = #{investMoney,jdbcType=BIGINT},</if>
			<if test="loadTime!=null">load_time = #{loadTime,jdbcType=TIMESTAMP},</if>
	    WHERE id = #{id,jdbcType=BIGINT} 
	</update>
	
			
	<update id="changeStatus">
		UPDATE dm_project
		SET
    		update_time = UNIX_TIMESTAMP(),
    		update_userid=#{updateUserid,jdbcType=VARCHAR},
            status=#{status,jdbcType=INTEGER}
	    WHERE id = #{id,jdbcType=BIGINT} 
	</update>
		
		
	<sql id="selectFields">
	id,title,pic,pic_big,picshow,weblink,ceo_name,company_id,company_name,industry_id,industry_sub_id,industry_name,industry_sub_name,district_id,district_name,district_sub_id,district_sub_name,newest_event_id,newest_event_date,newest_event_round,newest_event_money,source_id,create_date,status,business_model,industry_pain_points,team_score,operation_score,score,time_span,invest_info,invest_num,invest_money,load_time,update_time
	</sql>
	
	<select id="selectAll" resultMap="BaseResultMap">
		SELECT
		<include refid="selectFields" />
		FROM dm_project
	</select>
	
	<select id="queryProject" resultMap="BaseResultMap" parameterType="com.gi.xm.platform.query.ProjectQuery">
		SELECT
		<include refid="selectFields" />
		FROM dm_project
		<include refid="queryWhereAndOrder" />
	</select>
	
	<sql id="queryWhereAndOrder">
		<where>
					<if test="id!=null">AND id = #{id,jdbcType=BIGINT}</if>
								<if test="title!=null and title!=''">AND title = #{title,jdbcType=VARCHAR}</if>
								<if test="pic!=null and pic!=''">AND pic = #{pic,jdbcType=VARCHAR}</if>
								<if test="picBig!=null and picBig!=''">AND pic_big = #{picBig,jdbcType=VARCHAR}</if>
								<if test="picshow!=null and picshow!=''">AND picshow = #{picshow,jdbcType=VARCHAR}</if>
								<if test="weblink!=null and weblink!=''">AND weblink = #{weblink,jdbcType=VARCHAR}</if>
								<if test="ceoName!=null and ceoName!=''">AND ceo_name = #{ceoName,jdbcType=VARCHAR}</if>
								<if test="companyId!=null">AND company_id = #{companyId,jdbcType=BIGINT}</if>
								<if test="companyName!=null and companyName!=''">AND company_name = #{companyName,jdbcType=VARCHAR}</if>
								<if test="industryId!=null">AND industry_id = #{industryId,jdbcType=BIGINT}</if>
								<if test="industrySubId!=null">AND industry_sub_id = #{industrySubId,jdbcType=BIGINT}</if>
								<if test="industryName!=null and industryName!=''">AND industry_name = #{industryName,jdbcType=VARCHAR}</if>
								<if test="industrySubName!=null and industrySubName!=''">AND industry_sub_name = #{industrySubName,jdbcType=VARCHAR}</if>
								<if test="districtId!=null">AND district_id = #{districtId,jdbcType=BIGINT}</if>
								<if test="districtName!=null and districtName!=''">AND district_name = #{districtName,jdbcType=VARCHAR}</if>
								<if test="districtSubId!=null">AND district_sub_id = #{districtSubId,jdbcType=BIGINT}</if>
								<if test="districtSubName!=null and districtSubName!=''">AND district_sub_name = #{districtSubName,jdbcType=VARCHAR}</if>
								<if test="newestEventId!=null">AND newest_event_id = #{newestEventId,jdbcType=BIGINT}</if>
								<if test="newestEventDate!=null and newestEventDate!=''">AND newest_event_date = #{newestEventDate,jdbcType=VARCHAR}</if>
								<if test="newestEventRound!=null and newestEventRound!=''">AND newest_event_round = #{newestEventRound,jdbcType=VARCHAR}</if>
								<if test="newestEventMoney!=null">AND newest_event_money = #{newestEventMoney,jdbcType=BIGINT}</if>
								<if test="sourceId!=null">AND source_id = #{sourceId,jdbcType=BIGINT}</if>
								<if test="createDate!=null and createDate!=''">AND create_date = #{createDate,jdbcType=VARCHAR}</if>
								<if test="status!=null">AND status = #{status,jdbcType=INTEGER}</if>
								<if test="businessModel!=null and businessModel!=''">AND business_model = #{businessModel,jdbcType=VARCHAR}</if>
								<if test="industryPainPoints!=null and industryPainPoints!=''">AND industry_pain_points = #{industryPainPoints,jdbcType=VARCHAR}</if>
								<if test="teamScore!=null">AND team_score = #{teamScore,jdbcType=INTEGER}</if>
								<if test="operationScore!=null">AND operation_score = #{operationScore,jdbcType=INTEGER}</if>
								<if test="score!=null">AND score = #{score,jdbcType=INTEGER}</if>
								<if test="timeSpan!=null">AND time_span = #{timeSpan,jdbcType=INTEGER}</if>
								<if test="investInfo!=null and investInfo!=''">AND invest_info = #{investInfo,jdbcType=VARCHAR}</if>
								<if test="investNum!=null">AND invest_num = #{investNum,jdbcType=INTEGER}</if>
								<if test="investMoney!=null">AND invest_money = #{investMoney,jdbcType=BIGINT}</if>
								<if test="loadTime!=null">AND load_time = #{loadTime,jdbcType=TIMESTAMP}</if>
								<if test="updateTime!=null">AND update_time = #{updateTime,jdbcType=TIMESTAMP}</if>
							
		</where>
		<choose>
			<when test="order!=null and orderBy!=null and order!='' and orderBy!=''">order by ${orderBy} ${order}</when>
			<otherwise>order by id desc</otherwise>
		</choose>
	</sql>
	
	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">
		SELECT
		<include refid="selectFields" />
		FROM dm_project
		WHERE id = #{id,jdbcType=BIGINT} 
	</select>

	<select id="selectByPrimaryKeyForUpdate" resultMap="BaseResultMap" parameterType="java.lang.Long">
		SELECT
		<include refid="selectFields" />
		FROM dm_project
		WHERE id = #{id,jdbcType=BIGINT} 
		FOR UPDATE
	</select>
			
	<select id="selectBySourceId" resultMap="BaseResultMap">
		SELECT
		<include refid="selectFields" />
		FROM dm_project
		WHERE  source_id = #{sourceId,jdbcType=BIGINT}
	</select>
		
</mapper>